<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!-->
<html class="no-js" lang="en"><!--<![endif]-->

<head>
  <meta charset="utf-8">
  <title>Dovadi</title>
  <meta name="author" content="Frank Oxener">


  <meta name="description"
    content="Join us at elektro:camp(&lt;&lt;2013.11>>) on 1+2 November 2013 at the StayOkay on the island Texel in the Netherlands! Elektro:Camp is a &hellip;">


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="canonical" href="http://dovadi.com/blog/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Dovadi" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
  <link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet"
    type="text/css">
  <link href="https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet"
    type="text/css">


  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-410122-5']);
    _gaq.push(['_trackPageview']);

    (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
  <header role="banner">
    <hgroup>
      <h1><a href="/">Dovadi</a></h1>

      <h2>None of us is as smart as all of us.</h2>

    </hgroup>

  </header>
  <nav role="navigation">
    <ul class="subscription" data-subscription="rss">
      <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>

    </ul>

    <form action="https://google.com/search" method="get">
      <fieldset role="search">
        <input type="hidden" name="q" value="site:dovadi.com" />
        <input class="search" type="text" name="q" results="0" placeholder="Search" />
      </fieldset>
    </form>

    <ul class="main-navigation">
      <li><a href="/">Blog</a></li>
      <li><a href="/blog/archives">Archives</a></li>
      <li><a href="/about">About</a></li>
    </ul>

  </nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



        <article>

          <header>

            <h1 class="entry-title"><a href="/2013/10/13/electrocamp-on-texel/">Electro:Camp on Texel</a></h1>


            <p class="meta">












              <time datetime="2013-10-13T14:02:00+02:00" pubdate data-updated="true">Oct 13<span>th</span>, 2013</time>

            </p>

          </header>


          <div class="entry-content">
            <p>Join us at elektro:camp(&lt;&lt;2013.11>>) on 1+2 November 2013 at the <a
                href="http://www.stayokay.com/en/hostel/texel">StayOkay</a> on the island <a
                href="http://goo.gl/q0s1YV">Texel</a> in the Netherlands!</p>

            <p>Elektro:Camp is a participative workshop on Smart Metering, Smart Home, Smart Grid and Smart Ideas, in a
              <a href="http://en.wikipedia.org/wiki/Barcamp">BarCamp</a> style. (This is the 7th meeting of the open
              source metering community.)
            </p>

            <p>This time it is an all in arrangement, including sleeping accommodation in a hostel. For all the details,
              travel information and costs see <a
                href="http://developer.mysmartgrid.de/doku.php?id=ec1311-coordination">ektro-camp.de</a>.</p>

            <p>Be there of be â–¢, so <a href="http://developer.mysmartgrid.de/doku.php?id=ec1311-signup">sign up!</a>!
            </p>

            <p style="text-align:center;"><img src="/images/elektro.camp.2013.11.final.jpg" alt="" /></p>

          </div>




        </article>


        <article>

          <header>

            <h1 class="entry-title"><a href="/2010/05/25/proposal-for-a-formal-commercial-co-operative/">Proposal for a
                Formal (Commercial) Co-operative</a></h1>


            <p class="meta">












              <time datetime="2010-05-25T00:00:00+02:00" pubdate data-updated="true">May 25<span>th</span>, 2010</time>

            </p>

          </header>


          <div class="entry-content">
            <p>So you&#8217;re an independent Ruby developer with all the <em>benefits</em> you can think of.</p>

            <p>With a lot of <strong>freedom</strong>. You work from home, you choose your own assignments, no
              adjustment to a corporate culture, no managers to deal with etc.</p>

            <p>But what about the <strong>downsides</strong>? No feedback on your work (from which you can learn), not a
              lot of interaction with other programmers, not easy to consult a colleague on technical or other matters
              and sometimes the workload is too much or too little.</p>

            <p>So that leads me to the question: is there a form of working together without losing the valued benefits
              of an independent developer. Somehow it must be possible to work together on a commercial basis as
              individual developers more or less the same way we contribute to an Open Source project.</p>

            <p>Living in a community (on an island) where we have a lot of benefit of existing co-operatives (for <a
                href="https://teso.nl/index.php?option=com_content&amp;view=article&amp;id=102&amp;Itemid=69&amp;lang=en">transport
                by ferry</a> and the <a href="http://texelenergie.nl/">delivery of energy</a>), I of course thought of a
              formal co-operative as an organization form for working as an collective.</p>

            <h2>Benefits:</h2>

            <blockquote>
              <ul>
                <li>Acquisition as a collective.</li>
                <li>More flexible in workload. No more running or standing still. A more even distribution of the
                  workload.</li>
                <li>Higher occupation on average.</li>
                <li>Share knowledge and practical experience.</li>
                <li>Learn by working together on the same project.</li>
                <li>More change to do what you do best (specialties).</li>
                <li>More change to make some money as a part time ruby developer.</li>
              </ul>
            </blockquote>

            <p>The co-op will also offer the customer more continuity. A customer will value the lower dependence on a
              single developer or a small company.</p>

            <h2>Release early, release often:</h2>

            <p>With this proposal I like to research the possibility of working together in a formal co-operative. Of
              course I don&#8217;t have all the answers (yet), but I&#8217;m hoping that we can together answer a lot of
              them.</p>

            <p>Let me know what <strong>you</strong> think. I made a first draft of a proposal on Github with the
              following subjects:</p>

            <blockquote>
              <ul>
                <li>Definitions</li>
                <li>Objectives</li>
                <li>Rights</li>
                <li>Responsibilities</li>
                <li>Obligations</li>
                <li>Financials</li>
                <li>Board</li>
                <li>Workflow</li>
                <li>Examples</li>
              </ul>
            </blockquote>

            <p>I like to invite you to <strong>join this discussion</strong> and <strong>make your contribution</strong>
              by <a href="http://github.com/dovadi/rubycoop">forking</a> and submitting your patches!</p>

            <h2>See also:</h2>

            <ul>
              <li><a href="http://rubycoop.org">Rubycoop.org</a></li>
              <li><a href="http://github.com/dovadi/rubycoop">Github</a></li>
              <li><a href="http://twitter.com/rubycoop_org">twitter</a></li>
              <li><a href="http://groups.google.nl/group/ruby-co-op">Google group</a></li>
              <li><a href="https://dovadi.lighthouseapp.com/projects/53142-ruby-co-op/overview">Lighthouse</a></li>
            </ul>

          </div>




        </article>


        <article>

          <header>

            <h1 class="entry-title"><a href="/2010/05/22/cowork-location-on-texel/">CoWork Location on Texel</a></h1>


            <p class="meta">












              <time datetime="2010-05-22T00:00:00+02:00" pubdate data-updated="true">May 22<span>nd</span>, 2010</time>

            </p>

          </header>


          <div class="entry-content">
            <p>Combine your work with <a href="http://www.texel.net/nl/over-texel/natuur/">nature</a> on <a
                href="http://www.texel.net/nl/over-texel/">Texel</a>. Balance your work and personal life! This is the
              change to do your regular work and to combine it with a holiday feeling.</p>


            <p>Go out for a few days or a week with your partner/husband/wife (and/or your kids). During the day you can
              use a work spot with Internet access and enjoy the beauty of the Island.</p>


            <p style="text-align:center;"><a
                href="http://maps.google.nl/maps?f=q&amp;source=s_q&amp;gl=nl&amp;hl=nl&amp;g=Texel&amp;q=achterom+4,+den+burg&amp;ie=UTF8&amp;hq=&amp;hnear=Achterom+4,+1791+Den+Burg,+Texel,+Noord-Holland&amp;ll=53.046889,4.793816&amp;spn=0.095353,0.264187&amp;t=h&amp;z=13"><img
                  src="/assets/2010/5/22/achterom_4_google_maps.jpg" alt="" /></a></p>


            <p style="text-align:center;"><img src="/assets/2010/5/22/desk_orange_wall.jpg" alt="" /></p>


            <p style="text-align:center;"><img src="/assets/2010/5/22/desk_da_vinci.jpg" alt="" /></p>


            <p style="text-align:center;"><img src="/assets/2010/5/22/office_den_burg.jpg" alt="" /></p>


            <p>In return it would be nice to do a <a href="http://en.wikipedia.org/wiki/Pair_programming">pair
                programming</a> session (if you do <a href="http://www.ruby-lang.org/en/">Ruby</a> and/or <a
                href="http://rubyonrails.org/">Ruby on Rails</a>). Contact me via frank-at-dovadi.com or 06-49416406 if
              you&#8217;re interested.</p>

          </div>




        </article>


        <article>

          <header>

            <h1 class="entry-title"><a href="/2010/03/23/ideal-on-rails/">Active Merchant iDEAL Plugin</a></h1>


            <p class="meta">












              <time datetime="2010-03-23T00:00:00+01:00" pubdate data-updated="true">Mar 23<span>rd</span>, 2010</time>

            </p>

          </header>


          <div class="entry-content">
            <h1>Description:</h1>


            <p><a href="http://www.ideal.nl">iDEAL</a> payment gateway for <a
                href="http://www.activemerchant.org">ActiveMerchant</a>.</p>


            <h1>What is iDEAL?</h1>


            <p>iDEAL is a set of standards developed to facilitate online payments through the online banking
              applications that most Dutch banks provide.</p>


            <p>If a consumer already has online banking with <span class="caps">ABN</span> <span
                class="caps">AMRO</span>, Fortis, <span class="caps">ING</span>/Postbank, Rabobank, or <span
                class="caps">SNS</span> Bank, they can make payments using iDEAL in a way that they are already familiar
              with.</p>


            <p>See <a href="http://ideal.nl">http://ideal.nl</a> and <a
                href="http://idealdesk.com">http://idealdesk.com</a> for more information.</p>


            <h1>Merchant account</h1>


            <p>In order to use iDEAL you will need to get an iDEAL merchant account from your bank. Every bank offers
              Ã¢<cite>complete paymentÃ¢</cite> services, which can obfuscate the right choice. The payment product that
              you will want to get, in order to use this gateway class, is a bare bones iDEAL account.</p>


            <ul>
              <li><span class="caps">ING</span>/Postbank: iDEAL Advanced</li>
              <li><span class="caps">ABN</span> <span class="caps">AMRO</span>: iDEAL Zelfbouw</li>
              <li>Fortis: ? (Unknown)</li>
              <li>Rabobank: Rabo iDEAL Professional. (Unverified)</li>
              <li><span class="caps">SNS</span> Bank: <a
                  href="http://www.snsbank.nl/zakelijk/betalingsverkeer/kan-ik-ideal-gebruiken-voor-mijn-webwinkel.html">Not
                  yet available</a></li>
            </ul>


            <p>If you implement tests for other banks, if they require such acceptance tests, please do submit a patch
              or contact me directly: frank@dovadi.com.</p>


            <h1>Install active_merchant_ideal:</h1>


            <p>As a gem:</p>


            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="n">sudo</span> <span class="n">gem</span> <span class="n">install</span> <span class="n">active_merchant_ideal</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>


            <p>Add the following to your environment.rb:</p>




            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">gem</span> <span class="s1">&#39;active_merchant_ideal&#39;</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>




            <p>As a plugin:<br />
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="o">.</span><span class="n">/script</span><span class="o">/</span><span class="n">plugin</span> <span class="n">install</span> <span class="ss">git</span><span class="p">:</span><span class="sr">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">dovadi</span><span class="o">/</span><span class="n">active_merchant_ideal</span><span class="o">.</span><span class="n">git</span><span class="o">&lt;</span><span class="n">br</span> <span class="sr">/&gt;</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>
            <h1>Generate private keys and certificates</h1>
            <p>Messages to, and from, the acquirer, are all signed in order to prove their authenticity. This means that
              you will have to have a certificate to sign your messages going to the acquirer <em>and</em> you will need
              to have the certificate of the acquirer to verify its signed messages.</p>
            <p>The latter can be downloaded from your acquirer after registration. The former, however, can be a
              certificate signed by a CA authority or a self-signed certificate.</p>
            <p>To create a self-signed certificate follow these steps:</p>
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="sr">/usr/</span><span class="n">bin</span><span class="o">/</span><span class="n">openssl</span> <span class="n">genrsa</span> <span class="o">-</span><span class="n">des3</span> <span class="o">-</span><span class="n">out</span> <span class="n">private_key</span><span class="o">.</span><span class="n">pem</span> <span class="o">-</span><span class="n">passout</span> <span class="ss">pass</span><span class="p">:</span><span class="n">the_passphrase</span> <span class="mi">1024</span>
</span><span class='line'><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">openssl</span> <span class="n">req</span> <span class="o">-</span><span class="n">x509</span> <span class="o">-</span><span class="kp">new</span> <span class="o">-</span><span class="n">key</span> <span class="n">private_key</span><span class="o">.</span><span class="n">pem</span> <span class="o">-</span><span class="n">passin</span> <span class="ss">pass</span><span class="p">:</span><span class="n">the_passphrase</span> <span class="o">-</span><span class="n">days</span> <span class="mi">3650</span> <span class="o">-</span><span class="n">out</span> <span class="n">private_certificate</span><span class="o">.</span><span class="n">cer</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>`
            <p>Substitute _the_passphrase__ with your own passphrase.</p>
            <p>With the <span class="caps">ING</span> bank you upload your private certificate with your iDEAL
              Dashboard. Be aware that there are two dashboards, one <a
                href="https://idealtest.secure-ing.com/ideal/logon_ing.do">dashboard</a> for the test environment and
              one <a href="https://ideal.secure-ing.com/ideal/logon_ing.do">dashboard</a> for the production
              environment!</p>
            <p>For more information see:</p>
            <ul>
              <li><a
                  href="http://en.wikipedia.org/wiki/Certificate_authority">http://en.wikipedia.org/wiki/Certificate_authority</a>
              </li>
              <li><a
                  href="http://en.wikipedia.org/wiki/Self-signed_certificate">http://en.wikipedia.org/wiki/Self-signed_certificate</a>
              </li>
            </ul>
            <h1>Test</h1>
            <h2>Test the gem</h2>
            <p>You can run the tests from this gem with (inside the active_merchant_ideal directory):</p>
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="nb">test</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>
            <h2>Run the remote tests</h2>
            <ul>
              <li>Create .active_merchant directory in your own home directory</li>
              <li>Copy test/fixtures.yml to the .active_merchant directory</li>
              <li>Fill in your own merchant id, passphrase and the correct locations to your private key and
                certificates.</li>
              <li>For running the <strong>seven prescribed remote test transactions</strong> (<span
                  class="caps">ING</span> bank) which are needed to activate the iDEAL account use</li>
            </ul>
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="nb">test</span><span class="ss">:remote</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>
            <h1>Example (Rails)</h1>
            <h2>First configure the gateway</h2>
            <p>Put the following code in, for instance, an initializer:</p>
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="no">IdealGateway</span><span class="o">.</span><span class="n">live_url</span> <span class="o">=</span> <span class="s1">&#39;https://ideal.secure-ing.com:443/ideal/iDeal&#39;</span>
</span><span class='line'><span class="no">IdealGateway</span><span class="o">.</span><span class="n">merchant_id</span> <span class="o">=</span> <span class="s1">&#39;00123456789&#39;</span>
</span><span class='line'><span class="no">IdealGateway</span><span class="o">.</span><span class="n">passphrase</span> <span class="o">=</span> <span class="s1">&#39;the_private_key_passphrase&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># CERTIFICATE_ROOT points to a directory where the key and certificates are located</span>
</span><span class='line'><span class="no">IdealGateway</span><span class="o">.</span><span class="n">private_key_file</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="no">CERTIFICATE_ROOT</span><span class="p">,</span> <span class="s1">&#39;private_key.pem&#39;</span><span class="p">)</span>
</span><span class='line'><span class="no">IdealGateway</span><span class="o">.</span><span class="n">private_certificate_file</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="no">CERTIFICATE_ROOT</span><span class="p">,</span> <span class="s1">&#39;private_certificate.cer&#39;</span><span class="p">)</span>
</span><span class='line'><span class="no">IdealGateway</span><span class="o">.</span><span class="n">ideal_certificate_file</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="no">CERTIFICATE_ROOT</span><span class="p">,</span> <span class="s1">&#39;ideal.cer&#39;</span><span class="p">)</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>
            <h2>View</h2>
            <p>Give the consumer a list of available issuer options:</p>
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="n">gateway</span> <span class="o">=</span> <span class="ss">ActiveMerchant</span><span class="p">:</span><span class="ss">:Billing</span><span class="o">::</span><span class="no">IdealGateway</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">issuers</span> <span class="o">=</span> <span class="n">gateway</span><span class="o">.</span><span class="n">issuers</span><span class="o">.</span><span class="n">list</span>
</span><span class='line'><span class="n">sorted_issuers</span> <span class="o">=</span> <span class="n">issuers</span><span class="o">.</span><span class="n">sort_by</span> <span class="p">{</span> <span class="o">|</span><span class="n">issuer</span><span class="o">|</span> <span class="n">issuer</span><span class="o">[</span><span class="ss">:name</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'><span class="nb">select</span><span class="p">(</span><span class="s1">&#39;purchase&#39;</span><span class="p">,</span> <span class="s1">&#39;issuer_id&#39;</span><span class="p">,</span> <span class="n">issuers</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">issuer</span><span class="o">|</span> <span class="o">[</span><span class="n">issuer</span><span class="o">[</span><span class="ss">:name</span><span class="o">]</span><span class="p">,</span> <span class="n">issuer</span><span class="o">[</span><span class="ss">:id</span><span class="o">]]</span> <span class="p">})</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>
            <p>Could become:</p>
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="nb">select</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;purchase[issuer_id]&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1006&quot;</span> <span class="n">selected</span><span class="o">=</span><span class="s2">&quot;selected&quot;</span><span class="o">&gt;</span><span class="no">ABN</span> <span class="no">AMRO</span> <span class="no">Bank</span><span class="o">&lt;</span><span class="sr">/option&gt;</span>
</span><span class='line'><span class="sr">  &lt;option value=&quot;1017&quot;&gt;Asr bank&lt;/o</span><span class="n">ption</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1003&quot;</span><span class="o">&gt;</span><span class="no">Postbank</span><span class="o">&lt;</span><span class="sr">/option&gt;</span>
</span><span class='line'><span class="sr">  &lt;option value=&quot;1005&quot;&gt;Rabobank&lt;/o</span><span class="n">ption</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1023&quot;</span><span class="o">&gt;</span><span class="no">Van</span> <span class="no">Lanschot</span><span class="o">&lt;</span><span class="sr">/option&gt;</span>
</span><span class='line'><span class="sr">&lt;/se</span><span class="n">lect</span><span class="o">&gt;</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>
            <h2>Controller</h2>
            <p>First you&#8217;ll need to setup a transaction and redirect the consumer there so she can make the
              payment:</p>
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'> <span class="k">class</span> <span class="nc">PurchasesController</span> <span class="o">&lt;</span> <span class="ss">ActionController</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'>   <span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>     <span class="c1"># Ã¢?Â¬10.00 in cents.</span>
</span><span class='line'>     <span class="n">purchase</span> <span class="o">=</span> <span class="vi">@user</span><span class="o">.</span><span class="n">purchases</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="ss">:price</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">)</span>
</span><span class='line'>     <span class="c1"># We want an id for the URL.</span>
</span><span class='line'>     <span class="n">purchase</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="kp">false</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>     <span class="n">purchase_options</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>       <span class="ss">:issuer_id</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:purchase</span><span class="o">][</span><span class="ss">:issuer_id</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>       <span class="ss">:order_id</span> <span class="o">=&gt;</span> <span class="n">purchase</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
</span><span class='line'>       <span class="ss">:return_url</span> <span class="o">=&gt;</span> <span class="n">purchase_url</span><span class="p">(</span><span class="n">purchase</span><span class="p">),</span>
</span><span class='line'>       <span class="ss">:description</span> <span class="o">=&gt;</span> <span class="s1">&#39;A Dutch windmill&#39;</span>
</span><span class='line'>     <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>     <span class="c1"># Save the purchase instance so that the consumer</span>
</span><span class='line'>     <span class="c1"># can return to its resource url to finish the transaction.</span>
</span><span class='line'>     <span class="n">purchase</span><span class="o">.</span><span class="n">update_attributes!</span><span class="p">(</span><span class="n">purchase_options</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>     <span class="n">gateway</span> <span class="o">=</span> <span class="ss">ActiveMerchant</span><span class="p">:</span><span class="ss">:Billing</span><span class="o">::</span><span class="no">IdealGateway</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>     <span class="n">transaction_response</span> <span class="o">=</span> <span class="n">gateway</span><span class="o">.</span><span class="n">setup_purchase</span><span class="p">(</span><span class="n">purchase</span><span class="o">.</span><span class="n">price</span><span class="p">,</span> <span class="n">purchase_options</span><span class="p">)</span>
</span><span class='line'>     <span class="k">if</span> <span class="n">transaction_response</span><span class="o">.</span><span class="n">success?</span>
</span><span class='line'>
</span><span class='line'>       <span class="c1"># Store the transaction_id that the acquirer</span>
</span><span class='line'>       <span class="c1"># has created to identify the transaction.</span>
</span><span class='line'>       <span class="n">purchase</span><span class="o">.</span><span class="n">update_attributes!</span><span class="p">(</span><span class="ss">:transaction_id</span> <span class="o">=&gt;</span> <span class="n">transaction_response</span><span class="o">.</span><span class="n">transaction_id</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>       <span class="c1"># Redirect the consumer to the issuerÃ¢??s payment page.</span>
</span><span class='line'>       <span class="n">redirect_to</span> <span class="n">transaction_response</span><span class="o">.</span><span class="n">service_url</span>
</span><span class='line'>     <span class="k">end</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'> <span class="k">end</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>
            <p>After the consumer is done with the payment she will be redirected to the <em>:return_url</em>.
              It&#8217;s now <em>your</em> responsibility as merchant to check if the payment has been made:</p>
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'> <span class="k">class</span> <span class="nc">PurchasesController</span> <span class="o">&lt;</span> <span class="ss">ActionController</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'>   <span class="k">def</span> <span class="nf">show</span>
</span><span class='line'>     <span class="n">gateway</span> <span class="o">=</span> <span class="ss">ActiveMerchant</span><span class="p">:</span><span class="ss">:Billing</span><span class="o">::</span><span class="no">IdealGateway</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>     <span class="n">transaction_status</span> <span class="o">=</span> <span class="n">gateway</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="vi">@purchase</span><span class="o">.</span><span class="n">transaction_id</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>     <span class="k">if</span> <span class="n">transaction_status</span><span class="o">.</span><span class="n">success?</span>
</span><span class='line'>       <span class="vi">@purchase</span><span class="o">.</span><span class="n">update_attributes!</span><span class="p">(</span><span class="ss">:paid</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span>
</span><span class='line'>       <span class="n">flash</span><span class="o">[</span><span class="ss">:notice</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;Congratulations, you are now the proud owner of a Dutch windmill!&quot;</span>
</span><span class='line'>     <span class="k">end</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'> <span class="k">end</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>
            <h1>History</h1>
            <p>In 2006 an iDEAL payment library was written in Ruby for a web shop build in Rails for selling mobile
              phone credits. It was basically a translation of the <span class="caps">PHP</span> example given by the
              iDEAL organization (see iDEAL Advanced Integration Manual <span class="caps">PHP</span>). Is was released
              as the ideal-on-rails plugin.</p>
            <p>In 2007 this code was refactored as a patch for the ActiveMerchant library, this was mainly done by <a
                href="http://www.fngtps.com/">Fingertips</a> for a client project. This patch was never accepted due to
              the fact it was too different (and maybe too obscure) from the &#8216;normal&#8217; credit card gateways.
            </p>
            <p>In 2009 Fingertips forked the ActiveMerchant library and added an iDEAL gateway (presumable based on the
              first ActiveMerchant patch) to a new ideal branch.</p>
            <p>In 2010 this code was extracted and converted into a separate gem, so it can be more easily used in
              combination with the latest version of ActiveMerchant. This library is just an extraction, nothing more
              and nothing less. There are no fundamental changes between the code from the ideal branch and the code of
              this gem.</p>
            <h1>Maintainer</h1>
            <p>This gem is maintained by <a href="http://dovadi.com">Agile Dovadi BV</a>, contact <a
                href="mailto:frank@dovadi.com">Frank Oxener</a></p>

          </div>




        </article>


        <article>

          <header>

            <h1 class="entry-title"><a href="/2009/08/21/gem-released-has_attributes_from/">Gem Released:
                Has_attributes_from</a></h1>


            <p class="meta">












              <time datetime="2009-08-21T00:00:00+02:00" pubdate data-updated="true">Aug 21<span>st</span>, 2009</time>

            </p>

          </header>


          <div class="entry-content">
            <p>My first little gem <a
                href="http://github.com/dovadi/has_attributes_from/tree/master">has_attributes_from</a> for merging
              attributes from one ActiveRecord Class to another individual <span class="caps">STI</span> subclass.</p>


            <p>So why, do we want to do that, you might ask? Well, I was working on a rails project where clients take
              care of the administration (planning and billing) for child daycare centres. In this project I have all
              kinds of people objects, like a child, a contactperson, a father, mother, caretaker etc. etc. So, the
              ideal casus for a Single Table Inheritance implementation. So I implemented a &#8216;classic&#8217; Person
              Class as follows:</p>


            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'>  <span class="n">create_table</span> <span class="ss">:people</span><span class="p">,</span> <span class="ss">:force</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="kp">true</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">string</span>   <span class="ss">:firstname</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">string</span>   <span class="ss">:lastname</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">string</span>   <span class="ss">:initials</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">string</span>   <span class="ss">:type</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">string</span>   <span class="ss">:social_security_number</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">string</span>   <span class="ss">:gender</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">datetime</span> <span class="ss">:date_of_birth</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>


            <p>However, I like to add certain extra attributes to a Child, like for example its nickname and information
              about its allergies. So I introduce another class which I call ChildDetail. Of course I can add these
              attributes to the people table as well, but in this project I had several more fields to add and some
              other attributes for a father., which would lead to a lot of columns for only two subclasses (of the five
              in total).</p>


            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="n">create_table</span> <span class="ss">:child_details</span><span class="p">,</span> <span class="ss">:force</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="kp">true</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">string</span>   <span class="ss">:nickname</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">string</span>   <span class="ss">:vaccination</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">string</span>   <span class="ss">:allergy</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="n">integer</span>  <span class="ss">:child_id</span> <span class="c1">#belongs_to relationship with Child</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>


            <p>Ok, now I can access the extra attributes</p>


            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Person</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Child</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span> <span class="no">Person</span>
</span><span class='line'>  <span class="n">has_one</span> <span class="ss">:child_detail</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="k">class</span> <span class="nc">ChildDetail</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'>  <span class="n">belongs_to</span> <span class="ss">:child</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">child</span> <span class="o">=</span> <span class="no">Child</span><span class="o">.</span><span class="n">first</span>
</span><span class='line'><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span><span class="c1">#&amp;lt;Child id: 2, firstname: &quot;William&quot;, lastname: &quot;Oxener&quot;, type: &quot;Child&quot;, social_security_number: &quot;123456789&quot;, gender: &quot;m&quot;, date_of_birth: &quot;2005-12-02 00:00:00&quot;&amp;gt;</span>
</span><span class='line'><span class="nb">puts</span> <span class="n">child</span><span class="o">.</span><span class="n">child_detail</span><span class="o">.</span><span class="n">nickname</span>
</span><span class='line'><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span><span class="s2">&quot;Bill&quot;</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>


            <p>This is not really the way I want it, I like to ask directly for the nickname of a child without going
              through a child_detail. So to solve this &#8216;problem&#8217; I wrote the has_attributes_from gem. Add
              the following line to your environment.rb file</p>


            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">gem</span> <span class="s1">&#39;dovadi-has_attributes_from&#39;</span><span class="p">,</span> <span class="ss">:lib</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s1">&#39;has_attributes_from&#39;</span><span class="p">,</span> <span class="ss">:version</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s1">&#39;&amp;gt;=0.1.1&#39;</span><span class="p">,</span> <span class="ss">:source</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s1">&#39;http://gems.github.com&#39;</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>


            <p>Install and unpack this gem to your vendor directory or install as a plugin<br />
            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="o">.</span><span class="n">/script</span><span class="o">/</span><span class="n">plugin</span> <span class="n">install</span> <span class="ss">git</span><span class="p">:</span><span class="sr">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">dovadi</span><span class="o">/</span><span class="n">has_attributes_from</span><span class="o">.</span><span class="n">git</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>
            </p>


            <p>Now we can do the following:</p>


            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Person</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Child</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span> <span class="no">Person</span>
</span><span class='line'>  <span class="n">has_attributes_from</span> <span class="ss">:child_detail</span>
</span><span class='line'>  <span class="n">validates_presence_of</span> <span class="ss">:nickname</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="k">class</span> <span class="nc">ChildDetail</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>


            <p>With <a href="http://github.com/dovadi/has_attributes_from/tree/master">has_attributes_from</a> the
              attributes from ChidDetail are merged with Child. A child object acts as one single object and I can even
              do validation on nickname directly (or the other attributes from ChildDetail).</p>


            <figure class='code'>
              <figcaption><span></span></figcaption>
              <div class="highlight">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre>
                    </td>
                    <td class='code'>
                      <pre><code class='ruby'><span class='line'><span class="n">child</span> <span class="o">=</span> <span class="no">Child</span><span class="o">.</span><span class="n">first</span>
</span><span class='line'><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span><span class="c1">#&amp;lt;Child id: 2, firstname: &quot;William&quot;, lastname: &quot;Oxener&quot;, type: &quot;Child&quot;, social_security_number: &quot;123456789&quot;, gender: &quot;m&quot;, date_of_birth: &quot;2005-12-02 00:00:00&quot;&amp;gt;</span>
</span><span class='line'><span class="nb">puts</span> <span class="n">child</span><span class="o">.</span><span class="n">nickname</span>
</span><span class='line'><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span><span class="s2">&quot;Bill&quot;</span>
</span><span class='line'><span class="n">child</span><span class="o">.</span><span class="n">update_attributes</span><span class="p">(</span><span class="ss">:nickname</span><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span><span class="kp">nil</span><span class="p">)</span>
</span><span class='line'><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span><span class="kp">false</span>
</span><span class='line'><span class="n">child</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">full_messages</span>
</span><span class='line'><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="o">[</span><span class="s2">&quot;Nickname must be present&quot;</span><span class="o">]</span>
</span><span class='line'><span class="n">child</span><span class="o">.</span><span class="n">nickname</span><span class="o">=</span><span class="s2">&quot;Daam&quot;</span>
</span><span class='line'><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span><span class="s2">&quot;Daam&quot;</span>
</span><span class='line'><span class="n">child</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span><span class="kp">true</span>
</span></code></pre>
                    </td>
                  </tr>
                </table>
              </div>
            </figure>


            <p>I think this is much nicer, besides it was fun to make and a good exercise to put some Ruby meta
              programming into practice.</p>

          </div>




        </article>

        <div class="pagination">

          <a class="prev" href="/blog/page/2/">&larr; Older</a>

          <a href="/blog/archives">Blog Archives</a>

        </div>
      </div>
      <aside class="sidebar">


        <section>
          <h1>GitHub Repos</h1>
          <ul id="gh_repos">
            <li class="loading">Status updating&#8230;</li>
          </ul>

          <a href="https://github.com/dovadi">@dovadi</a> on GitHub

          <script type="text/javascript">
            $.domReady(function () {
              if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = '/javascripts/libs/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
              }

              github.showRepos({
                user: 'dovadi',
                count: 0,
                skip_forks: true,
                target: '#gh_repos'
              });
            });
          </script>
          <script src="/javascripts/github.js" type="text/javascript"> </script>
        </section>


        <section>

          <a href="http://twitter.com/dovadi" class="twitter-follow-button" data-show-count="false">Follow @dovadi</a>

        </section>

        <section>
          <h1>Recent Posts</h1>
          <ul id="recent_posts">

            <li class="post">
              <a href="/2013/10/13/electrocamp-on-texel/">Electro:Camp on Texel</a>
            </li>

            <li class="post">
              <a href="/2010/05/25/proposal-for-a-formal-commercial-co-operative/">Proposal for a formal (commercial)
                co-operative</a>
            </li>

            <li class="post">
              <a href="/2010/05/22/cowork-location-on-texel/">CoWork location on Texel</a>
            </li>

            <li class="post">
              <a href="/2010/03/23/ideal-on-rails/">Active Merchant iDEAL plugin</a>
            </li>

            <li class="post">
              <a href="/2009/08/21/gem-released-has_attributes_from/">Gem released: has_attributes_from</a>
            </li>

          </ul>
        </section>
        <section>
          <h1>&nbsp;</h1>
          <p>
            <img width="255px" src="/images/logo_ad.png">
          </p>
        </section>


      </aside>

    </div>
  </div>
  <footer role="contentinfo">
    <p>
      <script>document.write(new Date().getFullYear())</script> - Frank Oxener -
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>. Design by <a
          href="http://octopressthemes.com">Octopress Themes</a>.</span>
    </p>

  </footer>


  <script type="text/javascript">
    var disqus_shortname = 'dovadi';


    var disqus_script = 'count.js';

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
  </script>







  <script type="text/javascript">
    (function () {
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'https://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>

</html>